# Чат на Node.js с использованием Express и Socket.IO

Это простое веб-приложение чата, построенное на Node.js, Express и Socket.IO. Оно позволяет пользователям подключаться, отправлять сообщения в реальном времени и просматривать историю сообщений.

## Описание проекта

Это веб-приложение чата позволяет пользователям подключаться к одному и тому же серверу и обмениваться сообщениями в реальном времени. Сообщения сохраняются в базе данных MySQL, поэтому при перезагрузке страницы история остаётся доступной.

### Как это работает

1. При подключении пользователь видит всю историю предыдущих сообщений.
2. Каждое новое сообщение отправляется на сервер через WebSocket (с помощью Socket.IO).
3. Сервер сохраняет сообщение в базу данных и тут же рассылает его всем подключённым клиентам.
4. Все пользователи видят обновлённый чат без перезагрузки страницы.

### Используемые технологии

- **Node.js** — сервер на JavaScript, который обрабатывает все запросы.
- **Express** — фреймворк для создания веб-сервера и раздачи статических файлов.
- **Socket.IO** — обеспечивает двустороннюю связь в реальном времени между клиентом и сервером.
- **MySQL** — надёжная база данных для хранения сообщений и имён пользователей.
- **JavaScript (клиент)** — в браузере работает простой скрипт, который отправляет и получает сообщения.

## Установка и запуск

1. Убедитесь, что у вас установлены [Node.js](https://nodejs.org/) и [MySQL](https://www.mysql.com/).
2. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/Demolf/test-it.git
   cd test-it
   ```
3. Установите зависимости:
   ```bash
   npm install
   ```
4. База данных `chat_db` создаётся автоматически при первом запуске сервера.
5. Настройте подключение к базе данных в файле `db.js` (логин, пароль, хост при необходимости).
6. Запустите сервер:
   ```bash
   npm run start
   ```
   — при первом запуске таблица `messages` создастся автоматически.

7. Откройте в браузере:
   ```
   http://localhost:3000
   ```

## Структура проекта

- `index.js` — основной серверный скрипт.
- `db.js` — конфигурация подключения к базе данных.
- `public/` — статические файлы (HTML, CSS, JS для клиента).
- `package.json` — метаданные проекта и зависимости.

## Полная автоматизация при запуске

Теперь при запуске `npm start` происходит всё автоматически:

1. Сервер подключается к MySQL без выбора базы.
2. Создаёт базу данных `chat_db`, если её ещё нет.
3. Подключается к базе `chat_db`.
4. Создаёт таблицу `messages`, если её ещё нет.

Вам достаточно:
- Указать правильные `user` и `password` в `db.js`.
- Запустить `npm start` — и всё будет готово.
